<template>
  <div style="padding:15px; background-color: white;">
    <TreeSelect
      style="margin-bottom:15px;"
      :data="init"
      :default-props="defaultProps"
      :node-key="nodeKey"
      multiple
      @popoverHide="popoverHide"
    />
    <el-divider content-position="left">选中的值：</el-divider>
    <el-tag v-for="li in list" :key="li" style="margin:10px;">{{ li }}</el-tag>
  </div>
</template>

<script>
import TreeSelect from '@/components/TreeSelect/index'
export default {
  name: 'Add',
  components: {
    TreeSelect
  },
  data() {
    return {
      list: [],
      nodeKey: 'value',
      defaultProps: {
        children: 'children',
        label: 'label'
      },
      init:
        [{ 'checked': false, 'children': [{ 'checked': false, 'children': [{ 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '镇江市京口区市场监督管理局第一分局', 'parentId': '321102', 'value': '32110201' }, { 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '镇江市京口区市场监督管理局第二分局', 'parentId': '321102', 'value': '32110202' }, { 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '镇江市京口区市场监督管理局第三分局', 'parentId': '321102', 'value': '32110203' }, { 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '镇江市京口区市场监督管理局第四分局', 'parentId': '321102', 'value': '32110204' }, { 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '镇江市京口区市场监督管理局第五分局', 'parentId': '321102', 'value': '32110205' }, { 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '镇江市京口区市场监督管理局第六分局', 'parentId': '321102', 'value': '32110206' }], 'hasChildren': true, 'hasParent': true, 'label': '镇江市京口区市场监督管理局', 'parentId': '3211', 'value': '321102' }, { 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '镇江高新区市场监督管理局', 'parentId': '3211', 'value': '321108' }, { 'checked': false, 'children': [{ 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '镇江新区市场监督管理局大港分局', 'parentId': '321109', 'value': '32110901' }, { 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '镇江新区市场监督管理局丁卯分局', 'parentId': '321109', 'value': '32110902' }, { 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '镇江新区市场监督管理局平昌分局', 'parentId': '321109', 'value': '32110903' }, { 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '镇江新区市场监督管理局大路分局', 'parentId': '321109', 'value': '32110904' }, { 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '镇江新区市场监督管理局姚桥分局', 'parentId': '321109', 'value': '32110905' }], 'hasChildren': true, 'hasParent': true, 'label': '镇江新区市场监督管理局', 'parentId': '3211', 'value': '321109' }, { 'checked': false, 'children': [{ 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '镇江市润州区市场监督管理局第一分局', 'parentId': '321111', 'value': '32111101' }, { 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '镇江市润州区市场监督管理局第二分局', 'parentId': '321111', 'value': '32111102' }, { 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '镇江市润州区市场监督管理局第三分局', 'parentId': '321111', 'value': '32111103' }, { 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '镇江市润州区市场监督管理局第四分局', 'parentId': '321111', 'value': '32111104' }, { 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '镇江市润州区市场监督管理局第五分局', 'parentId': '321111', 'value': '32111105' }, { 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '镇江市润州区市场监督管理局第六分局', 'parentId': '321111', 'value': '32111106' }], 'hasChildren': true, 'hasParent': true, 'label': '镇江市润州区市场监督管理局', 'parentId': '3211', 'value': '321111' }, { 'checked': false, 'children': [{ 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '镇江市丹徒区市场监督管理局宜城分局', 'parentId': '321112', 'value': '32111201' }, { 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '镇江市丹徒区市场监督管理局谷阳分局', 'parentId': '321112', 'value': '32111202' }, { 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '镇江市丹徒区市场监督管理局上党分局', 'parentId': '321112', 'value': '32111203' }, { 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '镇江市丹徒区市场监督管理局宝堰分局', 'parentId': '321112', 'value': '32111204' }, { 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '镇江市丹徒区市场监督管理局辛丰分局', 'parentId': '321112', 'value': '32111205' }, { 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '镇江市丹徒区市场监督管理局高资分局', 'parentId': '321112', 'value': '32111206' }, { 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '镇江市丹徒区市场监督管理局世业分局', 'parentId': '321112', 'value': '32111207' }, { 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '镇江市丹徒区市场监督管理局高桥分局', 'parentId': '321112', 'value': '32111208' }], 'hasChildren': true, 'hasParent': true, 'label': '镇江市丹徒区市场监督管理局', 'parentId': '3211', 'value': '321112' }, { 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '镇江市京口区市场监督管理局第一分局', 'parentId': '3211', 'value': '321179' }, { 'checked': false, 'children': [{ 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '丹阳市市场监督管理局云阳分局', 'parentId': '321181', 'value': '32118101' }, { 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '丹阳市市场监督管理局曲阿分局', 'parentId': '321181', 'value': '32118102' }, { 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '丹阳市市场监督管理局丹北分局', 'parentId': '321181', 'value': '32118103' }, { 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '丹阳市市场监督管理局皇塘分局', 'parentId': '321181', 'value': '32118104' }, { 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '丹阳市市场监督管理局导墅分局', 'parentId': '321181', 'value': '32118105' }, { 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '丹阳市市场监督管理局延陵分局', 'parentId': '321181', 'value': '32118106' }, { 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '丹阳市市场监督管理局陵口分局', 'parentId': '321181', 'value': '32118107' }, { 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '丹阳市市场监督管理局珥陵分局', 'parentId': '321181', 'value': '32118108' }, { 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '丹阳市市场监督管理局界牌分局', 'parentId': '321181', 'value': '32118109' }, { 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '丹阳市市场监督管理局访仙分局', 'parentId': '321181', 'value': '32118110' }, { 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '丹阳市市场监督管理局司徒分局', 'parentId': '321181', 'value': '32118111' }, { 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '丹阳市市场监督管理局吕城分局', 'parentId': '321181', 'value': '32118112' }], 'hasChildren': true, 'hasParent': true, 'label': '丹阳市市场监督管理局', 'parentId': '3211', 'value': '321181' }, { 'checked': false, 'children': [{ 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '扬中市市场监督管理局新坝分局', 'parentId': '321182', 'value': '32118201' }, { 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '扬中市市场监督管理局城区分局', 'parentId': '321182', 'value': '32118202' }, { 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '扬中市市场监督管理局兴隆分局', 'parentId': '321182', 'value': '32118203' }, { 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '扬中市市场监督管理局油坊分局', 'parentId': '321182', 'value': '32118204' }, { 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '扬中市市场监督管理局八桥分局', 'parentId': '321182', 'value': '32118205' }, { 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '扬中市市场监督管理局西来桥分局', 'parentId': '321182', 'value': '32118206' }], 'hasChildren': true, 'hasParent': true, 'label': '扬中市市场监督管理局', 'parentId': '3211', 'value': '321182' }, { 'checked': false, 'children': [{ 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '句容市市场监督管理局华阳分局', 'parentId': '321183', 'value': '32118301' }, { 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '句容市市场监督管理局黄梅分局', 'parentId': '321183', 'value': '32118302' }, { 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '句容市市场监督管理局下蜀分局', 'parentId': '321183', 'value': '32118303' }, { 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '句容市市场监督管理局天王分局', 'parentId': '321183', 'value': '32118304' }, { 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '句容市市场监督管理局后白分局', 'parentId': '321183', 'value': '32118305' }, { 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '句容市市场监督管理局郭庄分局', 'parentId': '321183', 'value': '32118306' }, { 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '句容市市场监督管理局茅山分局', 'parentId': '321183', 'value': '32118307' }, { 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '句容市市场监督管理局白兔分局', 'parentId': '321183', 'value': '32118308' }, { 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '句容市市场监督管理局边城分局', 'parentId': '321183', 'value': '32118309' }, { 'checked': false, 'children': [{ 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '457', 'parentId': '32118310', 'value': '5467' }], 'hasChildren': true, 'hasParent': true, 'label': '句容市市场监督管理局宝华分局', 'parentId': '321183', 'value': '32118310' }, { 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '句容市餐饮安全监督所', 'parentId': '321183', 'value': '32118350' }, { 'checked': false, 'children': [{ 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '测试部门3', 'parentId': '32118399', 'value': '32118503' }], 'hasChildren': true, 'hasParent': true, 'label': '句容下的部门测试', 'parentId': '321183', 'value': '32118399' }], 'hasChildren': true, 'hasParent': true, 'label': '句容市市场监督管理局', 'parentId': '3211', 'value': '321183' }, { 'checked': false, 'children': [{ 'checked': false, 'hasChildren': false, 'hasParent': true, 'label': '测试部门2', 'parentId': '321185', 'value': '32118502' }], 'hasChildren': true, 'hasParent': true, 'label': '测试部门', 'parentId': '3211', 'value': '321185' }], 'hasChildren': true, 'hasParent': false, 'label': '镇江市市场监督管理局', 'value': '3211' }]

    }
  },
  methods: {
    // 监听--多选弹框树型的默认值变化与弹框隐藏事件--获取选中ID
    popoverHide(checkedIds) {
      this.list = checkedIds
    }
  }
}
</script>
